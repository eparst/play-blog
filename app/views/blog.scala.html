@import model._
@import com.feth.play.module.pa.views.html._

@(blog: Blog) @main("Zella blog") {

    @currentAuth() { auth =>
        @if(auth != null) {
            Logged in with provider '@auth.getProvider()' and the user ID '@auth.getId()'<br/>
            Your session expires
            @if(auth.expires() == -1) {
                never
            } else {
                at @auth.expires() (UNIX timestamp)
            }
            Name: @Application.getLocalUser(session).getName
            <a href="@routes.Application.admin()">Admin page</a>

            <a href="@com.feth.play.module.pa.controllers.routes.Authenticate.logout">Logout</a>
        } else {
            @forProviders() { p =>
                <a href="@p.getUrl()">@p.getKey()</a>
            }
        }
    }

    <h1>Our Zella Blog Tutorial</h1>

    @for(post <- blog.getPosts) {
        <a href="@routes.Posts.viewPost(blog.getName, post.getName)">@post.getHeader</a>
        <p>@post.getBody</p>
        <hr/>
    }

}